# (C) Copyright 2005- ECMWF.

# See ECC-1846
# This is ecmf local so we shouldn't use MasterDir. Instead we look for pseudocentre (conceptsDir2) then centre (conceptsLocalDirAll)

concept modelName(unknown, "modelNameConcept.def", conceptsDir2, conceptsLocalDirAll): no_copy, dump;

if (modelName isnot "unknown") {
   concept configuration(unknown, "configurationConcept.[modelName].def", conceptsDir2, conceptsLocalDirAll): no_copy, dump, read_only;
  if ( grib2LocalSectionPresent or localUsePresent ) { # See ECC-2039
      if ( defined(marsClass) ) { # See ECC-2032
         alias ls.model = modelName;
         alias ls.configuration = configuration;
      }
   }
}

if (class is "ef" || class is "gf" || class is "gh" || class is "eh") {
 alias mars.model = modelName;
 alias mars.configuration = configuration;
 
}

if (class is "ef" || class is "gf" ) {
 alias mars.origin = inputOriginatingCentre;
}

if (stream is "mmsf" && (class is "gh" || class is "eh")){
 alias mars.version  = modelVersion;
 alias mars.origin = inputOriginatingCentre;
}
